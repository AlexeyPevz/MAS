"""
security.py
===========

Заготовка для управления секретами и безопасностью. Реализация
включает функции для получения секретов из Vault (или другого
секрет‑менеджера) и механизм подтверждения изменений глобальных
промптов через Telegram. Пока реализованы только заглушки.
"""

from typing import Optional


def get_secret(key: str) -> Optional[str]:
    """Получить секрет по ключу из хранилища.

    Args:
        key: имя секрета

    Returns:
        Значение секрета или None, если не найден.

    Note:
        В настоящей системе используется Vault. Здесь возвращается None.
    """
    # TODO: интеграция с хранилищем секретов (Vault, AWS Secrets Manager и т.п.)
    return None


def approve_global_prompt_change(diff: str) -> bool:
    """Запросить у пользователя подтверждение на изменение глобального промпта.

    Args:
        diff: строка с diff изменений

    Returns:
        True, если пользователь подтвердил; False в противном случае.

    Note:
        В этой заглушке всегда возвращается False. В реальной реализации
        следует отправить diff через Telegram (или другой канал) и ждать
        подтверждения.
    """
    # TODO: интеграция с Telegram и логикой подтверждения
    print("[Security] Требуется подтверждение изменения глобального промпта:")
    print(diff)
    return False