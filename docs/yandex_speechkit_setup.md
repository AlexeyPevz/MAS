# Настройка Yandex SpeechKit

Yandex SpeechKit предоставляет возможности распознавания речи (STT) и синтеза речи (TTS) для системы Root-MAS.

## Получение ключей

1. **Создайте аккаунт в Yandex Cloud**
   - Перейдите на https://cloud.yandex.ru/
   - Зарегистрируйтесь или войдите

2. **Создайте каталог (folder)**
   - В консоли управления создайте новый каталог
   - Запомните ID каталога (понадобится для YANDEX_FOLDER_ID)

3. **Создайте сервисный аккаунт**
   - В разделе "Сервисные аккаунты" создайте новый аккаунт
   - Назначьте роль `ai.speechkit-stt.user` для STT
   - Назначьте роль `ai.speechkit-tts.user` для TTS

4. **Получите API ключ**
   - В настройках сервисного аккаунта создайте новый API-ключ
   - Скопируйте ключ (показывается только один раз!)

## Настройка в проекте

1. **Добавьте в файл `.env`:**
```env
# Yandex SpeechKit
YANDEX_API_KEY=your_api_key_here
YANDEX_FOLDER_ID=your_folder_id_here
```

2. **Перезапустите систему**

## Использование

После настройки голосовые функции будут доступны:

- **В Telegram боте**: отправка голосовых сообщений
- **Через API**: эндпоинты `/api/v1/voice/stt` и `/api/v1/voice/tts`

## Поддерживаемые языки

- Русский (ru-RU)
- Английский (en-US)
- Турецкий (tr-TR)
- И другие (см. документацию Yandex)

## Ограничения

- Максимальная длина аудио для STT: 1 минута
- Максимальная длина текста для TTS: 5000 символов
- Лимиты запросов согласно вашему тарифу

## Тестирование

Для проверки работы SpeechKit используйте:

```bash
python test_speechkit.py
```

## Устранение проблем

1. **"API key не настроен"**
   - Проверьте наличие YANDEX_API_KEY в .env
   - Убедитесь что .env загружается

2. **"Invalid API key"**
   - Проверьте правильность ключа
   - Убедитесь что ключ активен

3. **"Folder not found"**
   - Проверьте YANDEX_FOLDER_ID
   - Folder ID должен принадлежать вашему аккаунту