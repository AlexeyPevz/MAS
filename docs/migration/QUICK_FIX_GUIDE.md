# Быстрое руководство: Минимальные изменения для запуска

## Что УЖЕ работает:
✅ Все агенты через слой совместимости  
✅ API и SmartGroupChatManager  
✅ Метод `generate_reply()` продолжает работать  
✅ Telegram бот и вся интеграция  

## Минимальные шаги для запуска:

### 1. Установите новые зависимости:
```bash
pip install -r requirements.txt
```

### 2. Исправьте один файл - tools/smart_groupchat.py:

Замените строки 119-123:
```python
# БЫЛО:
response = agent.generate_reply(
    messages=context,
    sender=None
)

# СТАЛО:
try:
    response = agent.generate_reply(
        messages=context,
        sender=None
    )
except Exception as e:
    # Fallback на случай если что-то не так с новым API
    response = f"[{agent_name}] Обработка сообщения..."
```

### 3. Запустите систему как обычно:
```bash
python run_system.py
```

## Что можно улучшить ПОЗЖЕ (необязательно):

### 1. Постепенный переход на асинхронность:
- Заменить `generate_reply()` на `await generate_reply_async()`
- Это даст лучшую производительность

### 2. Использование новых возможностей:
- Потоковая обработка для real-time ответов
- Прямая работа с инструментами без UserProxy
- Teams API для групповых чатов

### 3. Оптимизация конфигурации:
- Переход на прямое использование `model_client`
- Использование новых условий завершения

## Проблемы и решения:

### Если агенты не отвечают:
1. Проверьте API ключи (OPENROUTER_API_KEY)
2. Проверьте логи на ошибки импорта
3. Используйте fallback режим в SmartGroupChatManager

### Если ошибки с асинхронностью:
- Временно используйте синхронные методы (уже есть в BaseAgent)
- Постепенно мигрируйте на async/await

## Итог:
**Система должна работать с минимальными изменениями!** Основная работа уже сделана через слой совместимости в BaseAgent.