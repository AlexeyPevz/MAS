# ðŸš€ AutoGen v0.4+ Ð² Root-MAS System

## Ð§Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¾ÑÑŒ?

Root-MAS Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ **Ð½Ð¾Ð²ÐµÐ¹ÑˆÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ AutoGen v0.4+** Ñ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾Ð¹ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒÑŽ!

### âœ… Ð§Ñ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¸Ð· ÐºÐ¾Ñ€Ð¾Ð±ÐºÐ¸:
- Ð’ÑÐµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ð°Ð³ÐµÐ½Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÑŽÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ
- API Ð¸ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Ð¾ÑÑ‚Ð°ÑŽÑ‚ÑÑ Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹
- ÐœÐµÑ‚Ð¾Ð´ `generate_reply()` Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· ÑÐ»Ð¾Ð¹ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚Ð¸
- SmartGroupChatManager Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð¸Ñ€ÑƒÐµÑ‚ ÐºÐ°Ðº Ñ€Ð°Ð½ÑŒÑˆÐµ

### ðŸŽ¯ ÐÐ¾Ð²Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ (Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾):
- **ÐÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°** - Ð»ÑƒÑ‡ÑˆÐ°Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ
- **ÐŸÐ¾Ñ‚Ð¾ÐºÐ¾Ð²Ð°Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°** - real-time Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð°Ð³ÐµÐ½Ñ‚Ð¾Ð²
- **ÐŸÑ€ÑÐ¼Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸** - Ð±ÐµÐ· UserProxy
- **Teams API** - Ð¿Ñ€Ð¾Ð´Ð²Ð¸Ð½ÑƒÑ‚Ñ‹Ðµ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ
- **Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð½Ð°Ñ Ð½Ð°Ð±Ð»ÑŽÐ´Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ** - Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ

## Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¾Ð¹

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: ÐŸÐ¾Ð»Ð½Ð°Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° (Linux/Mac)
```bash
./setup.sh    # Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ Python, ÑÐ¾Ð·Ð´Ð°ÑÑ‚ venv, ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ Ð²ÑÐµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
./start.sh    # Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°Ð¼Ð¸
```

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Python ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ñ‰Ð¸Ðº (Ð²ÑÐµ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹)
```bash
python install_and_run.py
```

Ð­Ñ‚Ð¾Ñ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:
- âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ Ð²ÐµÑ€ÑÐ¸ÑŽ Python (Ð½ÑƒÐ¶ÐµÐ½ 3.9-3.13)
- âœ… Ð£Ð´Ð°Ð»Ð¸Ñ‚ ÑÑ‚Ð°Ñ€Ñ‹Ð¹ pyautogen ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ
- âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ Ð½Ð¾Ð²Ñ‹Ðµ Ð¿Ð°ÐºÐµÑ‚Ñ‹ AutoGen v0.4+
- âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ Ð²ÑÐµ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ñ‹
- âœ… Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ ÑˆÐ°Ð±Ð»Ð¾Ð½ .env
- âœ… Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ð°ÐºÐµÑ‚Ð¾Ð² AutoGen v0.4

```
autogen-agentchat >= 0.5.1   # ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¿Ð°ÐºÐµÑ‚ Ð´Ð»Ñ Ð°Ð³ÐµÐ½Ñ‚Ð¾Ð²
autogen-ext[openai] >= 0.5.5  # Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸
autogen-core                  # Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€Ðº (Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ)
```

## ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð½Ð¾Ð²Ñ‹Ñ… API

### 1. Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð°Ð³ÐµÐ½Ñ‚ (Ñ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾Ð¹ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒÑŽ)
```python
from agents.base import BaseAgent

# Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº Ñ€Ð°Ð½ÑŒÑˆÐµ!
agent = BaseAgent("my_agent", model="gpt-4o-mini", tier="cheap")
response = agent.generate_reply([{"content": "ÐŸÑ€Ð¸Ð²ÐµÑ‚!"}])
```

### 2. ÐÐ¾Ð²Ñ‹Ð¹ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
```python
# Ð”Ð»Ñ Ð»ÑƒÑ‡ÑˆÐµÐ¹ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸
response = await agent.generate_reply_async([{"content": "ÐŸÑ€Ð¸Ð²ÐµÑ‚!"}])
```

### 3. ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ñ Ð½Ð¾Ð²Ñ‹Ð¼Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸
Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ `examples/autogen_v04_example.py` Ð´Ð»Ñ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð²:
- ÐŸÐ¾Ñ‚Ð¾ÐºÐ¾Ð²Ð°Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°
- Teams API
- ÐŸÑ€ÑÐ¼Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸

## Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### Ð•ÑÐ»Ð¸ Ð°Ð³ÐµÐ½Ñ‚Ñ‹ Ð½Ðµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÑŽÑ‚:
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ OPENROUTER_API_KEY Ð² .env
2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ `python test_autogen_v04.py` Ð´Ð»Ñ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ¸
3. Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ fallback Ñ€ÐµÐ¶Ð¸Ð¼

### Ð•ÑÐ»Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð°:
```bash
pip uninstall -y pyautogen  # Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ€ÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ
pip install autogen-agentchat>=0.5.1 autogen-ext[openai]>=0.5.5
```

### Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Python Ð²ÐµÑ€ÑÐ¸ÐµÐ¹:
- AutoGen v0.4 Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Python >= 3.9, < 3.14
- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `./setup.sh` Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸

## ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ Ð½Ð° Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð½Ð¾Ð²Ñ‹Ð¹ API (Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐ¼)

Ð¡ÐµÐ¹Ñ‡Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· ÑÐ»Ð¾Ð¹ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚Ð¸. Ð”Ð»Ñ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾Ð¹ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸:

1. **Ð¤Ð°Ð·Ð° 1** (ÑÐµÐ¹Ñ‡Ð°Ñ): Ð’ÑÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ
2. **Ð¤Ð°Ð·Ð° 2**: ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ðµ Ð²Ñ‹Ð·Ð¾Ð²Ñ‹ Ð³Ð´Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾
3. **Ð¤Ð°Ð·Ð° 3**: Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Teams API Ð´Ð»Ñ Ð³Ñ€ÑƒÐ¿Ð¿Ð¾Ð²Ñ‹Ñ… Ñ‡Ð°Ñ‚Ð¾Ð²
4. **Ð¤Ð°Ð·Ð° 4**: ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ð½Ð¾Ð²ÑƒÑŽ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñƒ

## ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÑÑÑ‹Ð»ÐºÐ¸

- [ÐžÑ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ AutoGen v0.4](https://microsoft.github.io/autogen/dev/)
- [Ð ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ð¿Ð¾ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸](https://microsoft.github.io/autogen/dev/user-guide/agentchat-user-guide/migration-guide.html)
- [ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ ÐºÐ¾Ð´Ð°](https://github.com/microsoft/autogen/tree/main/examples)

## ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

Ð•ÑÐ»Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹:
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ `MIGRATION_GUIDE.md` Ð´Ð»Ñ Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸
2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚Ñ‹: `python test_autogen_v04.py`
3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð½Ð° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ð¾ÑˆÐ¸Ð±Ð¾Ðº AutoGen

---

**ðŸŽ‰ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð³Ð¾Ñ‚Ð¾Ð²Ð° Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ðµ Ñ Ð½Ð¾Ð²ÐµÐ¹ÑˆÐµÐ¹ Ð²ÐµÑ€ÑÐ¸ÐµÐ¹ AutoGen!**