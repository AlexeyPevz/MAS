# SGR vs Function Calling: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ **Schema-Guided Reasoning (SGR)** –∏ **Function Calling** –≤ LLM-—Å–∏—Å—Ç–µ–º–∞—Ö, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–∞—Ö –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–º –æ–ø—ã—Ç–µ.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

- **`sgr_vs_tools_guide.md`** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—ã–±–æ—Ä—É –º–µ–∂–¥—É SGR –∏ Function Calling
- **`production_guide.md`** - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production –≤–Ω–µ–¥—Ä–µ–Ω–∏—è  
- **`demo_sgr_simple.py`** - –†–∞–±–æ—Ç–∞—é—â–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è SGR (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

### üîß –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- **`sgr_example.py`** - –ü–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä SGR —Å Pydantic —Å—Ö–µ–º–∞–º–∏
- **`function_calling_example.py`** - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞ —Å Function Calling
- **`hybrid_approach_example.py`** - –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥: SGR + Function Calling

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é SGR:

```bash
python3 demo_sgr_simple.py
```

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ –ø–æ —à–∞–≥–∞–º
- ‚úÖ –ü–æ–ª–Ω—É—é —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É —Ä–µ—à–µ–Ω–∏–π
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (completeness, confidence)
- ‚úÖ JSON-—Ñ–æ—Ä–º–∞—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SGR:

```python
# ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è production
{
  "reasoning": {
    "query_analysis": {...},      # –ü—Ä–æ–∑—Ä–∞—á–Ω–æ
    "information_search": {...},  # –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ  
    "quality_check": {...}        # –ò–∑–º–µ—Ä–∏–º–æ
  },
  "confidence_score": 0.85        # –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—Å—è
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üîç –ü–æ–ª–Ω–∞—è –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞
- üìä –ü—Ä–æ—Å—Ç—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥  
- üêõ –õ–µ–≥–∫–∞—è –æ—Ç–ª–∞–¥–∫–∞
- ‚ö° –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª—è—Ö (Qwen 3 4B)

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Function Calling:

```python
# ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ –≤ production
agent.tools = [web_search, database, email]
result = agent.process(query)  # –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è —Ü–µ–ø–æ—á–∫–∞
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ü§ñ –ù–∞—Å—Ç–æ—è—â–µ–µ –∞–≥–µ–Ω—Ç—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- üîó –ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- üîÑ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- üîç –°–ª–æ–∂–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- üêõ –¢—Ä—É–¥–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ ("—á–µ—Ä–Ω—ã–π —è—â–∏–∫")
- üìà –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üéØ –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:
```
–°—Ç–∞—Ä—Ç ‚Üí SGR-only ‚Üí –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Tools ‚Üí –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥
```

### üè¢ –î–ª—è enterprise:
```python
class ProductionStrategy:
    def choose_approach(self, requirements):
        if requirements.need_control:
            return "SGR"
        elif requirements.need_external_apis:
            return "Controlled Hybrid"  
        else:
            return "SGR with monitoring"
```

### üî• –ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ production:

> **–í production –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ = –≤—ã–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞**

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π | SGR | Function Calling |
|----------|-----|-----------------|
| **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** | ‚úÖ –ü—Ä–æ—Å—Ç–æ–π | ‚ùå –°–ª–æ–∂–Ω—ã–π |
| **–û—Ç–ª–∞–¥–∫–∞** | ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è | ‚ùå "–ß–µ—Ä–Ω—ã–π —è—â–∏–∫" |
| **–ê–≥–µ–Ω—Ç–Ω–æ—Å—Ç—å** | ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è | ‚úÖ –ü–æ–ª–Ω–∞—è |
| **Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å** | ‚úÖ –í—ã—Å–æ–∫–∞—è | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏ |

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–î–ª—è –ø–æ–ª–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —Å Pydantic:

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏  
pip install pydantic requests
```

## üìà –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã

### MCP + Structured Output + SGR
- **MCP** (Anthropic) —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **Structured Output** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- **SGR** –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

### –°–¥–≤–∏–≥ –∫ –≥–∏–±—Ä–∏–¥–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º:
```
–ê–≥–µ–Ω—Ç = Tool Calling + Structured Output + SGR
```

## üéì –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã

1. **`demo_sgr_simple.py`** - –ë–∞–∑–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ SGR
2. **`sgr_example.py`** - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ö–µ–º—ã 
3. **`function_calling_example.py`** - –ê–≥–µ–Ω—Ç—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
4. **`hybrid_approach_example.py`** - –õ—É—á—à–µ–µ –∏–∑ –¥–≤—É—Ö –º–∏—Ä–æ–≤

## ü§ù –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–†–µ—Å–ø–µ–∫—Ç **–†–∏–Ω–∞—Ç—É –ê–±–¥—É–ª–ª–∏–Ω—É** –∑–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∞—Ü–∏—é Schema-Guided Reasoning –ø–æ–¥—Ö–æ–¥–∞!

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö!

---

**SGR** - —ç—Ç–æ –ø—Ä–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å.  
**Function Calling** - —ç—Ç–æ –ø—Ä–æ –∏—Å—Ç–∏–Ω–Ω—É—é –∞–≥–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ –≥–∏–±–∫–æ—Å—Ç—å.  
**–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –¥–∞–µ—Ç –ª—É—á—à–µ–µ –∏–∑ –¥–≤—É—Ö –º–∏—Ä–æ–≤.

–í—ã–±–æ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤: **–∫–æ–Ω—Ç—Ä–æ–ª—å vs –∞–≥–µ–Ω—Ç–Ω–æ—Å—Ç—å**.